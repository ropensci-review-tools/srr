<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rOpenSci Review Roclets • srr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="rOpenSci Review Roclets">
<meta property="og:description" content="Companion package to rOpenSci statistical
    software review project.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">srr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.020</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/srr-stats.html">Preparing Statistical Software with the srr package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropenscilabs/srr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="ropensci-software-review-roclets-srr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ropensci-software-review-roclets-srr" class="anchor"></a><a href="https://ropensci.org" class="external-link">rOpenSci</a> <strong>S</strong>oftware <strong>R</strong>eview <strong>R</strong>oclets (srr)</h1></div>
<p>First, the answer to an important question: <strong><a href="https://github.com/r-lib/roxygen2/issues/1086" class="external-link">What is a “roclet”</a>?</strong></p>
<ul>
<li>A roclet is an object used by the <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> package to convert <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a>-style documentation lines into some desired form of output.</li>
</ul>
<div id="why-then" class="section level2">
<h2 class="hasAnchor">
<a href="#why-then" class="anchor"></a>Why then?</h2>
<p>This package currently serves to aid developers and reviewers of statistical software in aligning their software against our extensive <a href="https://ropenscilabs.github.io/statistical-software-review-book/standards.html" class="external-link">lists of standards</a>. In acknowledgement of <a href="https://github.com/csgillespie" class="external-link">Colin Gillespie</a>’s sentiments expressed in his keynote speech at the <a href="https://2020.erum.io/program/keynotes-invited-speakers/" class="external-link">European R Users Meeting 2020</a>:</p>
<blockquote>
<p>Standards are good<br> Standards should be strict<br> No-one reads standards</p>
</blockquote>
<p>the <code>srr</code> package aims to integrate the task of aligning software with standards within the practice of coding itself, and to make standards adherence as painless as possible.</p>
</div>
<div id="how" class="section level2">
<h2 class="hasAnchor">
<a href="#how" class="anchor"></a>How?</h2>
<p>The <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> package parses all documentation lines from all files in the <code>R/</code> directory of a package which begin with <code>#'</code>. Special tags beginning with <code><a href="https://rdrr.io/r/base/slotOp.html" class="external-link">@</a></code>, such as <code>@param</code> or <code>@export</code>, may follow these symbols, and roclets define what is done with different kinds of tags. The <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> package includes roclets to process a number of tags; the <code>srr</code> package implements custom roclets to process several additional tags for use with <a href="https://ropensci.org" class="external-link">rOpenSci</a>’s software review systems.</p>
<p>At present, the package only contains roclets and associated functions to help those developing and reviewing packages submitted to rOpenSci’s system for <a href="https://ropenscilabs.github.io/statistical-software-review-book/index.html" class="external-link">Statistical Software Review</a>. The functions are mostly intended to ease alignment and assessment of software against the standards detailed in the <a href="https://ropenscilabs.github.io/statistical-software-review-book/index.html" class="external-link">main project book</a> (from here on referred to as the “SSR Book”). The <code>srr</code> package can be installed with,</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("remotes")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropenscilabs/srr"</span><span class="op">)</span></code></pre></div>
<p>and loaded for use with,</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://github.com/ropenscilabs/srr" class="external-link">srr</a></span><span class="op">)</span></code></pre></div>
<p>Both this <code>README</code>, and the main package vignette, describe the functionality of the package in the specific context of the statistical software review project. Both the roclet and all functions intended for use in this context are prefixed with <code>srr_stats_</code>. The remainder of this document is in two main sections. If you’re developing a statistics package for submission to our peer review system, keep straight on reading. If you’ve been invited to review a package, you may skip the following section and just read the subsequent section. The general procedures for both developers and reviewers are described at length in the <a href="https://ropenscilabs.github.io/statistical-software-review-book/index.html" class="external-link">SSR book</a>, with this <code>README</code> intended to provide supporting technical details.</p>
<p>Note that the <code>srr</code> package can be applied only within the working directory of a package. There are no <code>package</code> or <code>path</code> arguments to allow functions to be applied to packages anywhere other than in the current working directory.</p>
</div>
<div id="for-package-developers" class="section level2">
<h2 class="hasAnchor">
<a href="#for-package-developers" class="anchor"></a>For Package Developers</h2>
<p>People intending to develop packages for submission to our system for peer reviewing statistical software will need to follow the following general steps. Note that, while the <code>srr</code> package has a few functions which developers may call directly to aid their submission process, most functionality of this package is implemented via custom <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code> “roclets”</a>. The third of the following steps describes how to link your package with <code>srr</code> in order to use these roclets.</p>
<ol style="list-style-type: decimal">
<li><p>Ensure that your package successfully passes all <a href="https://github.com/ropenscilabs/autotest" class="external-link"><code>autotest</code></a> tests, potentially including setting <code>test = FALSE</code> flags to switch off any tests you consider not to be applicable to your package. For details, please see the <a href="https://ropenscilabs.github.io/autotest/" class="external-link">package documentation for <code>autotest</code></a>.</p></li>
<li>
<p>Decide which of our in-scope categories of statistical software best describe your package. The function <a href="https://ropenscilabs.github.io/srr/reference/srr_stats_categories.html"><code>srr_stats_categories()</code></a> provides a list of currently developed categories for which standards have been developed, along with links to the online standards for each category:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/srr_stats_categories.html">srr_stats_categories</a></span> <span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">title</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">## [1] "General"                                                        </span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">## [2] "Bayesian"                                                       </span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">## [3] "EDA"                                                            </span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">## [4] "Machine Learning"                                               </span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">## [5] "Regression and Supervised Learning"                             </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">## [6] "Spatial"                                                        </span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">## [7] "Time Series"                                                    </span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">## [8] "Dimensionality Reduction, Clustering, and Unsupervised Learning"</span></span></code></pre></div>
<p>That function also returns links to the full descriptions of each category in the <a href="https://ropenscilabs.github.io/statistical-software-review-book/index.html" class="external-link">main project book</a>. Any software within one or more of these categories may be considered for review.</p>
</li>
<li>
<p>Enable your package to use the <code>srr_stats</code> roclets by modifying the package’s <code>DESCRIPTION</code> file so that the <code>Roxygen</code> line looks like this:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Roxygen</span><span class="op">:</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>markdown <span class="op">=</span> <span class="cn">TRUE</span>, roclets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="st">"namespace"</span>, <span class="st">"rd"</span>, <span class="st">"srr::srr_stats_roclet"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>That will load the <a href="https://roxygen2.r-lib.org" class="external-link">“roclet”</a> used by this package to process the documentation of statistical standards within your actual code. Note that you do not need to add, import, or depend upon the <code>srr</code> package anywhere else within the <code>DESCRIPTION</code> file or your actual package.</p>
</li>
<li>
<p>Load the <code>srr</code> package and generate lists of standards within your package’s <code>/R</code> folder by running, <a href="https://ropenscilabs.github.io/srr/reference/srr_stats_roxygen.html"><code>srr_stats_roxygen(category = c("&lt;my-category-1&gt;", "&lt;my-category-2&gt;"))</code></a>. This will by default create a new file called by default <code>R/srr_stats_standards.R</code>, the first few lines of which will look like this:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">## [1] "#' srr_stats"                                                                 </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">## [2] "#'"                                                                           </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">## [3] "#' All of the following standards initially have `@srrstatsTODO` tags."       </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">## [4] "#' These may be moved at any time to any other locations in your code."       </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">## [5] "#' Once addressed, please modify the tag from `@srrstatsTODO` to `@srrstats`,"</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">## [6] "#' or `@srrstatsNA`, ensuring that references to every one of the following"</span></span></code></pre></div>
<p>The file will contain a list of all standards from your nominated categories. This file may be renamed, and the individual items moved to other locations in other files, but all nominated standards should remain in <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> blocks somewhere in your source code.</p>
<p>The <code>@srrstatsVerbose</code> line defines a variable which may be used to suppress output from the <code>srrstats</code> roclet when updating package documentation (by setting to <code>FALSE</code>). After that comes the list of standards, each of which is prefixed by a <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> tag, <code>@srrstatsTODO</code>. A package can only be submitted once all of these <code>TODO</code> items have been addressed via one of the options described in the following two items.</p>
</li>
<li><p>A standard may be addressed by moving the item in the <code>srr-stats-standards.R</code> file (or wherever you’ve chosen to list these within your own package) to one or more places in your code where these standards have been addressed. In doing so, the <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> tag should be changed from <code>@srrstatsTODO</code> to <code>@srrstats</code>, and the text which initially lists the actual standard should be changed to provide a brief description of how that standard has been met. Tags for one particular standard may be repeated in multiple places within your code, and we encourage locating multiple <code>@srrstats</code> tags which refer to a particular standard at all locations which directly address that standard.</p></li>
<li><p>Alternatively, any standards which you consider not applicable to your software may remain listed in the templated section of the main <code>srr-stats-standards.R</code> document (or any alternative location), with their tag changed from <code>@srrstatsTODO</code> to <code>@srrstatsNA</code>, and the description of the standard removed and replaced by an explanation of why you consider that standard not to be applicable to your software. These <code>@srrstatsNA</code> tags should be collected together within a single <code>roxygen2</code> block with a title of <code>NA_standards</code>, as provided in the initial template generated by the <a href="https://ropenscilabs.github.io/srr/reference/srr_stats_roxygen.html"><code>srr_stats_roxygen()</code></a> function. Any non-applicable standards can then just be moved into this block, with their <code>@srrstatsTODO</code> tags changed to <code>@srrstatsNA</code></p></li>
<li><p>Each time you run <a href="https://devtools.r-lib.org/reference/document.html" class="external-link"><code>devtools::document()</code></a> or the equivalent <a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link"><code>roxygen2::roxygenise()</code></a>, the roclet will scan your package’s documentation for the state of standards, and will generate a summary of the result on your screen.</p></li>
</ol>
<p>To help developers understand how to use these roclets, this package includes a function, <a href="https://ropenscilabs.github.io/srr/reference/srr_stats_pkg_skeleton.html"><code>srr_stats_pkg_skeleton()</code></a>, which will generate a skeleton of a package with several <a href="https://roxygen2.r-lib.org" class="external-link"><code>roxygen2</code></a> tags inserted throughout the code. This function returns the directory where the skeleton package has been created, so running the following two lines will illustrate the roclets in action:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/srr_stats_pkg_skeleton.html">srr_stats_pkg_skeleton</a></span> <span class="op">(</span><span class="op">)</span>
<span class="fu">roxygen2</span><span class="fu">::</span><span class="fu"><a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link">roxygenise</a></span> <span class="op">(</span><span class="va">d</span><span class="op">)</span></code></pre></div>
<p>Note that the skeleton package also includes C++ code in a <code>src/</code> directory, so will be compiled the first time your run <a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link"><code>roxygensise()</code></a>. Running a second time will generate cleaner output from the <code>srr_stats</code> roclets only. The tags included in <a href="https://roxygen2.r-lib.org/" class="external-link"><code>roxygen2</code></a> blocks in this skeleton package may be modified, moved, copied, and changed in any way you like to help you understand how the roclets work. Simply play around with the <a href="https://roxygen2.r-lib.org/" class="external-link"><code>roxygen2</code></a> lines and run <a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link"><code>roxygensise()</code></a> each time to see the effect. Individual standards may be moved to, and addressed in, any location including the directories <code>R/</code>, <code>src/</code>, or <code>tests/</code>, and well as in <code>.Rmd</code> documentation files such as <code>README.Rmd</code> or package vignettes. The <code>srr_stats</code> roclet associated with this package is able to parse the various <code>@srrstats</code> tags in all of these locations.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ropenscilabs/srr/">https://​github.com/​ropenscilabs/​srr/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropenscilabs/srr/issues">https://​github.com/​ropenscilabs/​srr/​issues</a>
</li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mark Padgham <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2172-5265" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ropenscilabs/srr/actions" class="external-link"><img src="https://github.com/ropenscilabs/srr/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/ropenscilabs/srr" class="external-link"><img src="https://codecov.io/gh/ropenscilabs/srr/branch/main/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://www.repostatus.org/#concept" class="external-link"><img src="https://www.repostatus.org/badges/latest/concept.svg" alt="Project Status: Concept"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Mark Padgham.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
